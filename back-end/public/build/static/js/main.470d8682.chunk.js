(this["webpackJsonpdelivery-app-back-end"]=this["webpackJsonpdelivery-app-back-end"]||[]).push([[0],{100:function(e,t,a){},125:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(27),s=a.n(n),i=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,152)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),c(e),r(e),n(e),s(e)}))},o=a(64),d=a(2),l={};var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EMAIL":return Object(d.a)(Object(d.a)({},e),{},{email:t.payload});case"SET_PASSWORD":return Object(d.a)(Object(d.a)({},e),{},{password:t.payload});default:return e}},j=Object(o.a)({loginReducer:u}),b=Object(o.b)(j),O=a(89),h=a(36),p=(a(100),a(101),a(10)),m=a(8),x=a.n(m),f=a(14),v=a(5),_=a(142),g=a(37),S=a(143),y=a(86),k=a(144),w=a(15),N=a.n(w),I=a(1);var E=function(e){var t=e.setStateEmail,a=e.emailTestId,c=e.title;return Object(I.jsxs)(g.a.Label,{children:[c,Object(I.jsx)(g.a.Control,{id:"email-input","data-testid":a,onChange:function(e){t(e.target.value)},type:"text"})]})},T=a(38);var C=function(e){var t=e.dispatchOnSubmit,a=e.disabled;return Object(I.jsx)(T.a,{variant:"success","data-testid":"common_login__button-login",disabled:a,onClick:t,type:"button",children:"Entrar"})};var P=function(e){var t=e.setStatePassword,a=e.passwordTestId;return Object(I.jsxs)(g.a.Label,{children:["Senha",Object(I.jsx)(g.a.Control,{"data-testid":a,onChange:function(e){t(e.target.value)},type:"password"})]})},D=a(141);var R=function(e){var t=e.hideErrorMessage;return Object(I.jsx)(D.a,{variant:"warning",hidden:t,children:"Usu\xe1rio/Senha inv\xe1lidos"})};var A=function(){var e=Object(p.g)();return Object(I.jsx)(T.a,{variant:"warning",onClick:function(){return e.push("/register")},"data-testid":"common_login__button-register",type:"button",children:"Ainda n\xe3o tenho conta"})},F="https://grupo-19-delivery-app.herokuapp.com",q=function(e){return/\S+@\S+\.\S+/.test(e)},J=function(e){return e.length>11},L=function(e){return e.length>5};var M=function(){var e=Object(c.useState)(""),t=Object(v.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),s=Object(v.a)(n,2),i=s[0],o=s[1],d=Object(c.useState)(!0),l=Object(v.a)(d,2),u=l[0],j=l[1],b=Object(c.useState)(!0),O=Object(v.a)(b,2),h=O[0],m=O[1],w=Object(p.g)();Object(c.useEffect)((function(){i&&a&&(q(a)&&L(i)?j(!1):j(!0))}),[a,i]),Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(e){var t=e.role;if("customer"===t)return w.push("/customer/products");if("seller"===t)return w.push("/seller/orders")}}));var T=function(){var e=Object(f.a)(x.a.mark((function e(){var t,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("".concat(F,"/login"),{email:a,password:i});case 3:t=e.sent,c=t.data,localStorage.setItem("user",JSON.stringify(c)),redirect.to[c.role](),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),3e3,m(!1),setTimeout((function(){return m(!0)}),3e3);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(_.a,{className:"d-flex justify-content-center",children:Object(I.jsxs)(g.a,{children:[Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(k.a,{src:"images/logo.svg"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)("h3",{children:"Disk-Birita"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(E,{title:"Login",setStateEmail:r,emailTestId:"common_login__input-email"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(P,{setStatePassword:o,passwordTestId:"common_login__input-password"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)(C,{dispatchOnSubmit:T,disabled:u})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)(A,{})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)(R,{hideErrorMessage:h})})})]})})};var B=function(e){var t=e.setStateName,a=e.nameTestId;return Object(I.jsxs)(g.a.Label,{children:["Nome",Object(I.jsx)(g.a.Control,{id:"name-input","data-testid":a,onChange:function(e){t(e.target.value)},type:"text"})]})};var $=function(e){var t=e.hidden;return Object(I.jsx)(D.a,{variant:"warning",hidden:t,"data-testid":"common_register__element-invalid_register",children:"Usu\xe1rio j\xe1 existente!"})};var z=function(){var e=Object(p.g)(),t=Object(c.useState)(),a=Object(v.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(),i=Object(v.a)(s,2),o=i[0],d=i[1],l=Object(c.useState)(),u=Object(v.a)(l,2),j=u[0],b=u[1],O=Object(c.useState)(!0),h=Object(v.a)(O,2),m=h[0],w=h[1],C=Object(c.useState)(!0),D=Object(v.a)(C,2),R=D[0],A=D[1];Object(c.useEffect)((function(){j&&o&&r&&(q(o)&&L(j)&&J(r)?w(!1):w(!0))}),[o,r,j]);var M=function(){var t=Object(f.a)(x.a.mark((function t(){var a,c,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.post("".concat(F,"/register"),{name:r,email:o,password:j});case 3:a=t.sent,c=a.data,n={name:c.name,email:c.email,role:c.role,token:c.token},localStorage.setItem("user",JSON.stringify(n)),e.push("/customer/products"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),3e3,A(!1),setTimeout((function(){return A(!0)}),3e3);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsx)(_.a,{className:"d-flex justify-content-center",children:Object(I.jsxs)(g.a,{className:"align-self-center",children:[Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(k.a,{src:"images/logo.svg",className:".login-logo",fluid:!0})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)("h3",{children:"Disk-Birita"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(B,{nameTestId:"common_register__input-name",setStateName:n})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(E,{emailTestId:"common_register__input-email",setStateEmail:d,title:"Email"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(P,{passwordTestId:"common_register__input-password",setStatePassword:b})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)(T.a,{variant:"success","data-testid":"common_register__button-register",disabled:m,onClick:M,type:"button",children:"Cadastrar"})})}),Object(I.jsx)(S.a,{className:"justify-content-md-center",children:Object(I.jsx)(y.a,{children:Object(I.jsx)($,{hidden:R})})})]})})},U=a(148),V=a(150),W=a(149);a(125);var Q=function(e){var t=e.cartTotal,a=Object(p.g)();return Object(I.jsx)(V.a.Link,{href:"/customer/checkout",children:Object(I.jsxs)("div",{className:"container-test","data-testid":"customer_products__checkout-bottom-value",disabled:t<=0,children:[Object(I.jsx)(W.a,{style:{fontSize:"2.5rem"}}),Object(I.jsx)("button",{type:"button","data-testid":"customer_products__button-cart",className:"clear-button-style price-tag",disabled:t<=0,onClick:function(){return a.push("/customer/checkout")},children:" ".concat(t.toFixed(2).toString().split(".").join(","))})]})})};a(128);var G=function(e){var t=e.openMenu,a=e.setOpenMenu;return Object(I.jsx)("div",{className:"".concat(t&&"open"," menu-btn"),onClick:function(){return a(!t)},children:Object(I.jsx)("div",{className:"menu-btn__burger"})})};a(129);var H=function(e){var t=e.openMenu,a=e.setOpenMenu,c=e.logout,r=e.name,n=t?"250px":"0px";return Object(I.jsxs)("div",{id:"mySidenav",className:"sidenav",style:{width:n},children:[Object(I.jsx)("button",{type:"button",className:"closebtn clear-button-style",onClick:function(){return a(!t)},children:"\xd7"}),Object(I.jsx)("span",{children:r}),Object(I.jsx)(T.a,{className:"clear-button-style",onClick:c,"data-testid":"customer_products__element-navbar-link-logout",type:"button",children:"Sair"})]})};var Z=function(){var e=Object(c.useState)({width:void 0,height:void 0}),t=Object(v.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a};function K(e){var t=e.cartTotal,a=JSON.parse(localStorage.getItem("user")).name,r=Object(p.g)(),n=r.location.pathname.includes("/seller"),s=Object(c.useState)(!1),i=Object(v.a)(s,2),o=i[0],d=i[1],l=Z().width,u=function(){localStorage.clear(),r.push("/")};return Object(I.jsxs)(U.a,{sticky:"top",bg:"light",expand:"md",style:{flexWrap:"nowrap"},children:[Object(I.jsx)(H,{setOpenMenu:d,openMenu:o,logout:u,name:a}),Object(I.jsx)(_.a,{className:"d-flex",style:{padding:0},children:Object(I.jsxs)(_.a,{className:"d-flex",style:{padding:0},children:[Object(I.jsxs)(V.a,{className:"me-auto my-2 my-lg-0 flex-row align-items-center",navbarScroll:!0,children:[Object(I.jsx)(U.a.Brand,{children:Object(I.jsx)(k.a,{src:"/images/logo.svg",width:"50",height:"40",alt:"Disk Birita logo"})}),Object(I.jsx)(V.a.Link,{href:n?"/seller/orders":"/customer/products","data-testid":"customer_products__element-navbar-link-".concat(n?"orders":"products"),style:{marginRight:"10px"},children:n?"ORDERS":"PRODUTOS"}),!n&&Object(I.jsx)(V.a.Link,{href:"/customer/orders","data-testid":"customer_products__element-navbar-link-orders",children:"PEDIDOS"})]}),l>=800&&Object(I.jsxs)(_.a,{className:"d-flex justify-content-end align-items-center",children:[Object(I.jsx)(U.a.Text,{"data-testid":"customer_products__element-navbar-user-full-name",href:"/customer/orders",style:{marginRight:"10px"},children:a}),Object(I.jsx)(T.a,{onClick:u,"data-testid":"customer_products__element-navbar-link-logout",type:"button",children:"Sair"})]}),!n&&Object(I.jsx)(Q,{cartTotal:t}),l<800&&Object(I.jsx)(G,{setOpenMenu:d,openMenu:o})]})})]})}K.defaultProps={cartTotal:0};var X=K,Y=a(31),ee=a(151),te=a(145);var ae=function(e){var t=e.product,a=e.product,c=a.id,r=a.name,n=a.price,s=a.urlImage,i=a.quantity,o=e.setCart,d=e.cart;return Object(I.jsxs)(ee.a,{children:[Object(I.jsx)(ee.a.Img,{"data-testid":"customer_products__img-card-bg-image-".concat(c),variant:"top",src:s,style:{heigth:"100px"}}),Object(I.jsx)(ee.a.Title,{"data-testid":"customer_products__element-card-title-".concat(c),style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:r}),Object(I.jsxs)(ee.a.Text,{style:{textAlign:"center"},children:["R$",Object(I.jsx)("span",{"data-testid":"customer_products__element-card-price-".concat(c),children:n.toString().split(".").join(",")})]}),Object(I.jsxs)(te.a,{className:"d-flex justify-content-center",children:[Object(I.jsx)(T.a,{id:c,"data-testid":"customer_products__button-card-rm-item-".concat(c),variant:"success",onClick:function(e){return function(e){var a="input-".concat(e),i=document.getElementById(a);/^[0-9\b]+$/.test(i.value)&&parseInt(i.value,10)>0?i.value=parseInt(i.value,10)-1:i.value=0;var l=d.indexOf(t),u=Object(Y.a)(d);u[l]={id:c,price:n,quantity:parseInt(i.value,10),name:r,urlImage:s},o(u)}(e.target.id)},children:"-"}),Object(I.jsx)(g.a.Control,{as:"input",min:"0",max:"99",id:"input-".concat(c),"data-testid":"customer_products__input-card-quantity-".concat(c),onChange:function(e){!function(e,t){var a=t,i=e.split("-")[1]-1;t||(a=0);var l=Object(Y.a)(d);l[i]={id:c,price:n,quantity:parseInt(a,10),name:r,urlImage:s},o(l)}(e.target.id,e.target.value)},type:"integer",placeholder:"0",defaultValue:i,style:{maxWidth:"176px"}}),Object(I.jsx)(T.a,{id:c,"data-testid":"customer_products__button-card-add-item-".concat(c),onClick:function(e){return function(e){var a="input-".concat(e),i=document.getElementById(a);/^[0-9\b]+$/.test(i.value)?i.value=parseInt(i.value,10)+1:i.value=1;var l=d.indexOf(t),u=Object(Y.a)(d);u[l]={id:c,price:n,quantity:parseInt(i.value,10),name:r,urlImage:s},o(u)}(e.target.id)},variant:"success",children:"+"})]})]})};var ce=function(){var e=Object(c.useState)(),t=Object(v.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(0),s=Object(v.a)(n,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(F,"/products"));case 2:t=e.sent,a=t.data.map((function(e){return e.quantity=0,e})),r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){var e=0;localStorage.setItem("cart",JSON.stringify(a)),a&&a.forEach((function(t){e+=t.price*t.quantity})),o(e)}),[a]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{cartTotal:i}),Object(I.jsx)(_.a,{children:Object(I.jsx)(S.a,{xs:2,md:3,sm:2,className:"g-4",children:a&&a.map((function(e,t){return Object(I.jsx)(ae,{product:e,setCart:r,cart:a},t)}))})})]})},re=a(3),ne=["component"],se=function(e){var t=e.component,a=Object(re.a)(e,ne),c=localStorage.getItem("user");return Object(I.jsx)(p.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return c?Object(I.jsx)(t,Object(d.a)({},e)):Object(I.jsx)(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ie=se;se.defaultProps={location:{}};var oe=a(146);a(130);function de(e){var t=e.cartTotal,a=e.setCart,c=e.cart;return Object(I.jsxs)(oe.a,{responsive:!0,hover:!0,className:"table-format",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Item"}),Object(I.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(I.jsx)("th",{children:"Quantidade"}),Object(I.jsx)("th",{children:"Valor Unit\xe1rio"}),Object(I.jsx)("th",{children:"Sub-total"}),Object(I.jsx)("th",{children:"Remover Item"})]})}),Object(I.jsxs)("tbody",{children:[c&&c.map((function(e,t){var r=e.id,n=e.name,s=e.price,i=e.quantity;return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{"data-testid":"customer_checkout__element-order-table-item-number-".concat(t),children:t+1}),Object(I.jsx)("td",{"data-testid":"customer_checkout__element-order-table-name-".concat(t),children:n}),Object(I.jsx)("td",{"data-testid":"customer_checkout__element-order-table-quantity-".concat(t),children:i}),Object(I.jsx)("td",{"data-testid":"customer_checkout__element-order-table-unit-price-".concat(t),children:"R$".concat(s.toString().split(".").join(","))}),Object(I.jsxs)("td",{children:["R$",Object(I.jsx)("span",{"data-testid":"customer_checkout__element-order-table-sub-total-".concat(t),children:(s*i).toFixed(2).toString().split(".").join(",")})]}),Object(I.jsx)("td",{children:Object(I.jsx)("button",{id:r,"data-testid":"customer_checkout__element-order-table-remove-".concat(t),onClick:function(){return function(e){var t=Object(Y.a)(c);return t.splice(e,1),a(t)}(t)},type:"button",className:"clear-button-style",children:"Remover"})})]},r)})),Object(I.jsx)("tr",{children:Object(I.jsx)("td",{className:"total-price",colSpan:"6",children:"Total: R$".concat(t.toFixed(2).toString().split(".").join(","))})})]})]})}de.defaultProps={cart:[]};var le=de,ue=a(147);var je=function(e){var t=e.finishSale,a=e.setDeliveryAddress,c=e.setDeliveryNumber,r=e.setSellerId,n=e.sellers;return Object(I.jsxs)(_.a,{children:[Object(I.jsxs)("div",{className:"d-flex",children:[Object(I.jsxs)(ue.a,{children:[Object(I.jsx)("div",{children:Object(I.jsx)("span",{children:"P. Vendedora Respons\xe1vel:"})}),Object(I.jsxs)("select",{onChange:function(e){return r(e.target.value)},name:"select","data-testid":"customer_checkout__select-seller",defaultValue:"DEFAULT",children:[Object(I.jsx)("option",{disabled:!0,value:"DEFAULT",children:" -- Selecione -- "}),n.map((function(e,t){var a=e.id,c=e.name;return Object(I.jsx)("option",{value:a,defaultValue:!0,children:c},t)}))]})]}),Object(I.jsxs)(g.a.Label,{children:["Endere\xe7o",Object(I.jsx)(g.a.Control,{placeholder:"Travessa Terceira da Castanheira, Bairro Murici",type:"text","data-testid":"customer_checkout__input-address",onChange:function(e){a(e.target.value)}})]}),Object(I.jsxs)(g.a.Label,{children:["N\xfamero",Object(I.jsx)(g.a.Control,{placeholder:"198","data-testid":"customer_checkout__input-addressNumber",type:"number",onChange:function(e){c(e.target.value)}})]})]}),Object(I.jsx)("button",{type:"button","data-testid":"customer_checkout__button-submit-order",onClick:t,children:"FINALIZAR PEDIDO"})]})};var be=function(){var e=Object(p.g)(),t=Object(c.useState)(),a=Object(v.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(0),i=Object(v.a)(s,2),o=i[0],d=i[1],l=Object(c.useState)(""),u=Object(v.a)(l,2),j=u[0],b=u[1],O=Object(c.useState)(""),h=Object(v.a)(O,2),m=h[0],g=h[1],S=Object(c.useState)(),y=Object(v.a)(S,2),k=y[0],w=y[1],E=Object(c.useState)([]),T=Object(v.a)(E,2),C=T[0],P=T[1];Object(c.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("cart")),a=t.filter((function(e){return e.quantity>0})),n(a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(F,"/seller/all"));case 2:t=e.sent,a=t.data,P(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[P]),Object(c.useEffect)((function(){var e=0;localStorage.setItem("cart",JSON.stringify(r)),r&&r.forEach((function(t){e+=t.price*t.quantity})),d(e)}),[r]);var D=function(){var t=Object(f.a)(x.a.mark((function t(){var a,c,n,s,i,d;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.parse(localStorage.getItem("user")),c=a.token,n={headers:{authorization:c}},s={totalPrice:o,products:r,deliveryAddress:j,deliveryNumber:m,sellerId:k},t.next=6,N.a.post("".concat(F,"/customer/checkout"),s,n);case 6:i=t.sent,d=i.data.saleId,e.push("/customer/orders/".concat(d)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{cartTotal:o}),Object(I.jsxs)(_.a,{children:[Object(I.jsx)(le,{cart:r,setCart:n,cartTotal:o}),Object(I.jsx)("div",{children:"Detalhes e Endere\xe7o para Entrega"}),Object(I.jsx)(je,{setDeliveryNumber:g,setDeliveryAddress:b,finishSale:D,setSellerId:w,sellers:C})]})]})};a(84);var Oe=function(e){var t=e.products,a=e.totalPrice;return Object(I.jsxs)(oe.a,{responsive:!0,hover:!0,className:"table-format",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Item"}),Object(I.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(I.jsx)("th",{children:"Quantidade"}),Object(I.jsx)("th",{children:"Valor unit\xe1rio"}),Object(I.jsx)("th",{children:"Sub-total"})]})}),Object(I.jsxs)("tbody",{children:[t.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{"data-testid":"customer_order_details__element-order-table-item-number-".concat(e.id),children:e.id}),Object(I.jsx)("td",{"data-testid":"customer_order_details__element-order-table-name-".concat(e.id),children:e.name}),Object(I.jsx)("td",{"data-testid":"customer_order_details__element-order-table-quantity-".concat(e.id),children:e.SalesProduct.quantity}),Object(I.jsxs)("td",{"data-testid":"customer_order_details__element-order-table-sub-total-".concat(e.id),children:["R$",e.price.split(".").join(",")]}),Object(I.jsxs)("td",{children:["R$",(parseFloat(e.price)*e.SalesProduct.quantity).toFixed(2).split(".").join(",")]})]},e.id)})),Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:"5","data-testid":"customer_order_details__element-order-total-price",className:"total-price",children:"Total: R$".concat(a.split(".").join(","))})})]})]})};var he=function(e){var t=e.updateButtonsText,a=e.orderId,c=e.sellerName,r=e.orderStatus,n=e.saleDate.split("-"),s="".concat(n[2][0]).concat(n[2][1]),i="".concat(n[1][0]).concat(n[1][1]),o="".concat(n[0].slice(0,4)),d="".concat(s,"/").concat(i,"/").concat(o);return Object(I.jsx)(oe.a,{responsive:!0,hover:!0,className:"table-head-format",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{"data-testid":"customer_order_details__element-order-details-label-order-id",children:"Pedido ".concat(a)}),Object(I.jsx)("th",{"data-testid":"customer_order_details__element-order-details-label-seller-name",children:"P. Vend: ".concat(c)}),Object(I.jsx)("th",{"data-testid":"customer_order_details__element-order-details-label-order-date",children:d}),Object(I.jsx)("th",{"data-testid":"customer_order_details__element-order-details-label-delivery-status",children:r}),Object(I.jsx)("th",{children:Object(I.jsx)("button",{"data-testid":"customer_order_details__button-delivery-check",type:"button",disabled:"Em Tr\xe2nsito"!==r,onClick:function(){return t("Entregue")},children:"MARCAR COMO ENTREGUE"})})]})})};var pe=function(){var e=Object(c.useState)(!1),t=Object(v.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)("Pendente"),s=Object(v.a)(n,2),i=s[0],o=s[1],d=Object(c.useState)(),l=Object(v.a)(d,2),u=l[0],j=l[1],b=Object(c.useState)(0),O=Object(v.a)(b,2),h=O[0],m=O[1],g=Object(p.g)();Object(c.useEffect)((function(){var e=g.location.pathname.split("/"),t=e[e.length-1],a={headers:{authorization:JSON.parse(localStorage.getItem("user")).token}};(function(){var e=Object(f.a)(x.a.mark((function e(){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(F,"/customer/order/").concat(t),a);case 2:c=e.sent,j(c.data.order),o(c.data.order.status);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[g.location.pathname]);var S=function(){var e=Object(f.a)(x.a.mark((function e(t){var c,n,s,i,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=g.location.pathname.split("/"),n=c[c.length-1],s=JSON.parse(localStorage.getItem("user")),i=s.token,d={headers:{authorization:i}},N.a.post("".concat(F,"/seller/orders/").concat(n),{orderStatus:t},d),r(!a),o(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=0,t=JSON.parse(localStorage.getItem("cart"));t&&t.forEach((function(t){e+=t.price*t.quantity})),m(e)}),[]),u?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{cartTotal:h}),Object(I.jsxs)(_.a,{children:[Object(I.jsx)("p",{children:"Detalhe do pedido"}),Object(I.jsx)(he,{orderId:u.id,sellerName:u.seller.name,orderStatus:i,updateButtonsText:S,saleDate:u.saleDate}),Object(I.jsx)(Oe,{products:u.products,totalPrice:u.totalPrice})]})]}):Object(I.jsx)("p",{children:"Carregando"})};var me=function(e){var t=e.order;return Object(I.jsxs)(oe.a,{striped:!0,bordered:!0,hover:!0,children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Item"}),Object(I.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(I.jsx)("th",{children:"Quantidade"}),Object(I.jsx)("th",{children:"Valor unit\xe1rio"}),Object(I.jsx)("th",{children:"Sub-total"})]})}),Object(I.jsx)("tbody",{children:t.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{"data-testid":"seller_order_details__element-order-table-item-number-".concat(e.id),children:e.id}),Object(I.jsx)("td",{"data-testid":"seller_order_details__element-order-table-name--".concat(e.id),children:e.name}),Object(I.jsx)("td",{"data-testid":"seller_order_details__element-order-table-quantity-".concat(e.id),children:e.SalesProduct.quantity}),Object(I.jsxs)("td",{"data-testid":"seller_order_details__element-order-table-unit-price-".concat(e.id),children:["R$",e.price.split(".").join(",")]}),Object(I.jsxs)("td",{"data-testid":"seller_order_details__element-order-table-sub-total".concat(e),children:["R$",(parseFloat(e.price)*e.SalesProduct.quantity).toFixed(2).split(".").join(",")]})]},e.id)}))})]})};var xe=function(){var e=Object(c.useState)(),t=Object(v.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(!1),s=Object(v.a)(n,2),i=s[0],o=s[1],d=Object(c.useState)("Pendente"),l=Object(v.a)(d,2),u=l[0],j=l[1],b=Object(p.g)();Object(c.useEffect)((function(){var e=b.location.pathname.split("/"),t=e[e.length-1],a={headers:{authorization:JSON.parse(localStorage.getItem("user")).token}};(function(){var e=Object(f.a)(x.a.mark((function e(){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(F,"/seller/orders/").concat(t),a);case 2:c=e.sent,r(c.data.order),j(c.data.order.status);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b.location.pathname]);var O=function(){var e=Object(f.a)(x.a.mark((function e(t){var a,c,r,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.location.pathname.split("/"),c=a[a.length-1],r=JSON.parse(localStorage.getItem("user")),n=r.token,s={headers:{authorization:n}},e.next=6,N.a.post("".concat(F,"/seller/orders/").concat(c),{orderStatus:t},s);case 6:o(!i),j(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(a){var h=a.saleDate.split("-"),m="".concat(h[2][0]).concat(h[2][1]),g="".concat(h[1][0]).concat(h[1][1]),S="".concat(h[0].slice(0,4)),y="".concat(m,"/").concat(g,"/").concat(S);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{}),Object(I.jsxs)(_.a,{children:[Object(I.jsx)("p",{children:"Detalhe do pedido"}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("span",{"data-testid":"seller_order_details__element-order-details-label-order-id",children:["Pedido",a.id]}),Object(I.jsx)("span",{"data-testid":"seller_order_details__element-order-details-label-order-date",children:y}),Object(I.jsx)("span",{"data-testid":"seller_order_details__element-order-details-label-delivery-status",children:u}),Object(I.jsx)("button",{"data-testid":"seller_order_details__button-preparing-check",type:"button",disabled:"Pendente"!==u,onClick:function(){return O("Preparando")},children:"PREPARAR PEDIDO"}),Object(I.jsx)("button",{"data-testid":"seller_order_details__button-dispatch-check",type:"button",disabled:"Preparando"!==u,onClick:function(){return O("Em Tr\xe2nsito")},children:"SAIU PARA ENTREGA"}),Object(I.jsx)(me,{order:a.products}),Object(I.jsx)("span",{children:"Total: R$"}),Object(I.jsx)("span",{"data-testid":"seller_order_details__element-order-total-price",children:a.totalPrice.split(".").join(",")})]})]})]})}return Object(I.jsx)("p",{children:"Carregando"})};a(131);var fe=function(e){var t=e.id,a=e.status,c=e.date,r=e.totalPrice,n=c.split("-"),s="".concat(n[2][0]).concat(n[2][1]),i="".concat(n[1][0]).concat(n[1][1]),o="".concat(n[0][0]).concat(n[0][1]).concat(n[0][2]).concat(n[0][3]),d="".concat(s,"/").concat(i,"/").concat(o),l=Object(p.g)();return Object(I.jsxs)(ee.a,{onClick:function(){l.push("/customer/orders/".concat(t))},style:{flexDirection:"row",justifyContent:"space-between",maxWidth:"400px",alignItems:"center",minHeight:"70px"},children:[Object(I.jsx)(ee.a.Text,{style:{marginBottom:0},"data-testid":"customer_orders__element-order-id-".concat(t),children:"Pedido ".concat(t)}),Object(I.jsx)(ee.a.Text,{style:{marginBottom:0},"data-testid":"customer_orders__element-delivery-status-".concat(t),children:a}),Object(I.jsxs)("div",{children:[Object(I.jsx)(ee.a.Text,{style:{marginBottom:0},"data-testid":"customer_orders__element-order-date-".concat(t),children:d}),Object(I.jsx)(ee.a.Text,{"data-testid":"customer_orders__element-card-price-".concat(t),children:"R$".concat(r.toString().split(".").join(","))})]})]})};var ve=function(){var e=Object(c.useState)(),t=Object(v.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(0),s=Object(v.a)(n,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){var e={headers:{authorization:JSON.parse(localStorage.getItem("user")).token}};(function(){var t=Object(f.a)(x.a.mark((function t(){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("".concat(F,"/customer/order"),e);case 2:a=t.sent,r(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){var e=0,t=JSON.parse(localStorage.getItem("cart"));t&&t.forEach((function(t){e+=t.price*t.quantity})),o(e)}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{cartTotal:i}),Object(I.jsx)(_.a,{children:Object(I.jsx)(S.a,{xs:2,md:2,sm:2,className:"g-2 justify-content-between",children:a&&a.map((function(e){return Object(I.jsx)(fe,{id:e.id,status:e.status,date:e.saleDate,totalPrice:e.totalPrice},e.id)}))})})]})};var _e=function(e){var t=e.id,a=e.status,c=e.date,r=e.totalPrice,n=e.deliveryAddress,s=e.deliveryNumber,i=c.split("-"),o="".concat(i[2][0]).concat(i[2][1]),d="".concat(i[1][0]).concat(i[1][1]),l="".concat(i[0][0]).concat(i[0][1]).concat(i[0][2]).concat(i[0][3]),u="".concat(o,"/").concat(d,"/").concat(l);return Object(I.jsxs)("a",{href:"/seller/orders/".concat(t),children:[Object(I.jsxs)(ee.a.Title,{"data-testid":"seller_orders__element-order-id-".concat(t),children:["Pedido",t]}),Object(I.jsx)(ee.a.Text,{children:Object(I.jsx)("span",{"data-testid":"seller_orders__element-delivery-status-".concat(t),children:a})}),Object(I.jsx)(ee.a.Text,{children:Object(I.jsx)("span",{"data-testid":"seller_orders__element-order-date-".concat(t),children:u})}),Object(I.jsxs)(ee.a.Text,{children:["R$",Object(I.jsx)("span",{"data-testid":"seller_orders__element-card-price-".concat(t),children:r.toString().split(".").join(",")})]}),Object(I.jsx)(ee.a.Text,{children:Object(I.jsx)("span",{"data-testid":"seller_orders__element-card-address-".concat(t),children:"".concat(n,",").concat(s)})})]})};var ge=function(){var e=Object(c.useState)(),t=Object(v.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)((function(){var e={headers:{authorization:JSON.parse(localStorage.getItem("user")).token}};(function(){var t=Object(f.a)(x.a.mark((function t(){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("".concat(F,"/seller/orders"),e);case 2:a=t.sent,r(a.data.sales);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{}),Object(I.jsx)(_.a,{children:Object(I.jsx)(S.a,{children:a&&a.map((function(e){return Object(I.jsx)(y.a,{children:Object(I.jsx)(_e,{id:e.id,status:e.status,date:e.saleDate,totalPrice:e.totalPrice,deliveryAddress:e.deliveryAddress,deliveryNumber:e.deliveryNumber})},e.id)}))})})]})};a(132);var Se=function(){return Object(I.jsxs)(p.d,{children:[Object(I.jsx)(p.b,{path:"/login",component:M}),Object(I.jsx)(p.b,{path:"/register",component:z}),Object(I.jsx)(ie,{path:"/customer/products",component:ce}),Object(I.jsx)(ie,{path:"/customer/checkout",component:be}),Object(I.jsx)(ie,{path:"/customer/orders/:id",component:pe}),Object(I.jsx)(ie,{path:"/customer/orders",component:ve}),Object(I.jsx)(ie,{path:"/seller/orders/:id",component:xe}),Object(I.jsx)(ie,{path:"/seller/orders",component:ge}),Object(I.jsx)(p.a,{strict:!0,from:"/",to:"/login"})]})};s.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(h.a,{children:Object(I.jsx)(O.a,{store:b,children:Object(I.jsx)(Se,{})})})}),document.getElementById("root")),i()},84:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.470d8682.chunk.js.map