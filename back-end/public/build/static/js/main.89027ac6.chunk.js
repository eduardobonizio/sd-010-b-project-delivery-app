(this["webpackJsonpdelivery-app-back-end"]=this["webpackJsonpdelivery-app-back-end"]||[]).push([[0],{101:function(e,t,r){},125:function(e,t,r){},128:function(e,t,r){},129:function(e,t,r){},130:function(e,t,r){},131:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(27),s=r.n(n),i=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,150)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),a(e),c(e),n(e),s(e)}))},o=r(64),d=r(2),l={};var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EMAIL":return Object(d.a)(Object(d.a)({},e),{},{email:t.payload});case"SET_PASSWORD":return Object(d.a)(Object(d.a)({},e),{},{password:t.payload});default:return e}},j=Object(o.a)({loginReducer:u}),b=Object(o.b)(j),O=r(88),h=r(36),p=(r(99),r(100),r(10)),m=(r(101),r(8)),x=r.n(m),f=r(14),v=r(5),_=r(140),g=r(37),S=r(141),y=r(85),k=r(142),w=r(15),N=r.n(w),I=r(1);var E=function(e){var t=e.setStateEmail,r=e.emailTestId,a=e.title;return Object(I.jsxs)(g.a.Label,{children:[a,Object(I.jsx)(g.a.Control,{id:"email-input","data-testid":r,onChange:function(e){t(e.target.value)},type:"text"})]})},T=r(38);var C=function(e){var t=e.dispatchOnSubmit,r=e.disabled;return Object(I.jsx)(T.a,{variant:"success","data-testid":"common_login__button-login",disabled:r,onClick:t,type:"button",children:"Entrar"})};var P=function(e){var t=e.setStatePassword,r=e.passwordTestId;return Object(I.jsxs)(g.a.Label,{children:["Senha",Object(I.jsx)(g.a.Control,{"data-testid":r,onChange:function(e){t(e.target.value)},type:"password"})]})},R=r(139);var D=function(e){var t=e.hideErrorMessage;return Object(I.jsx)(R.a,{variant:"warning",hidden:t,children:"Usu\xe1rio/Senha inv\xe1lidos"})};var A=function(){var e=Object(p.g)();return Object(I.jsx)(T.a,{variant:"warning",onClick:function(){return e.push("/register")},"data-testid":"common_login__button-register",type:"button",children:"Ainda n\xe3o tenho conta"})},F="https://grupo-19-delivery-app.herokuapp.com",q=function(e){return/\S+@\S+\.\S+/.test(e)},J=function(e){return e.length>11},L=function(e){return e.length>5};var M=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(""),s=Object(v.a)(n,2),i=s[0],o=s[1],d=Object(a.useState)(!0),l=Object(v.a)(d,2),u=l[0],j=l[1],b=Object(a.useState)(!0),O=Object(v.a)(b,2),h=O[0],m=O[1],w=Object(p.g)();Object(a.useEffect)((function(){i&&r&&(q(r)&&L(i)?j(!1):j(!0))}),[r,i]),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(e){var t=e.role;if("customer"===t)return w.push("/customer/products");if("seller"===t)return w.push("/seller/orders")}}));var T=function(){var e=Object(f.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("".concat(F,"/login"),{email:r,password:i});case 3:t=e.sent,a=t.data,localStorage.setItem("user",JSON.stringify(a)),redirect.to[a.role](),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),3e3,m(!1),setTimeout((function(){return m(!0)}),3e3);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(_.a,{className:"d-flex justify-content-center",children:Object(I.jsxs)(g.a,{children:[Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(k.a,{src:"images/logo.svg"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)("h3",{children:"Disk-Birita"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(E,{title:"Login",setStateEmail:c,emailTestId:"common_login__input-email"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(P,{setStatePassword:o,passwordTestId:"common_login__input-password"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)(C,{dispatchOnSubmit:T,disabled:u})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)(A,{})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)(D,{hideErrorMessage:h})})})]})})};var $=function(e){var t=e.setStateName,r=e.nameTestId;return Object(I.jsxs)(g.a.Label,{children:["Nome",Object(I.jsx)(g.a.Control,{id:"name-input","data-testid":r,onChange:function(e){t(e.target.value)},type:"text"})]})};var z=function(e){var t=e.hidden;return Object(I.jsx)(R.a,{variant:"warning",hidden:t,"data-testid":"common_register__element-invalid_register",children:"Usu\xe1rio j\xe1 existente!"})};var B=function(){var e=Object(p.g)(),t=Object(a.useState)(),r=Object(v.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(),i=Object(v.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)(),u=Object(v.a)(l,2),j=u[0],b=u[1],O=Object(a.useState)(!0),h=Object(v.a)(O,2),m=h[0],w=h[1],C=Object(a.useState)(!0),R=Object(v.a)(C,2),D=R[0],A=R[1];Object(a.useEffect)((function(){j&&o&&c&&(q(o)&&L(j)&&J(c)?w(!1):w(!0))}),[o,c,j]);var M=function(){var t=Object(f.a)(x.a.mark((function t(){var r,a,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.post("".concat(F,"/register"),{name:c,email:o,password:j});case 3:r=t.sent,a=r.data,n={name:a.name,email:a.email,role:a.role,token:a.token},localStorage.setItem("user",JSON.stringify(n)),e.push("/customer/products"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),3e3,A(!1),setTimeout((function(){return A(!0)}),3e3);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsx)(_.a,{className:"d-flex justify-content-center",children:Object(I.jsxs)(g.a,{className:"align-self-center",children:[Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(k.a,{src:"images/logo.svg",className:".login-logo",fluid:!0})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)("h3",{children:"Disk-Birita"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)($,{nameTestId:"common_register__input-name",setStateName:n})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(E,{emailTestId:"common_register__input-email",setStateEmail:d,title:"Email"})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(P,{passwordTestId:"common_register__input-password",setStatePassword:b})})}),Object(I.jsx)(S.a,{children:Object(I.jsx)(y.a,{className:"d-flex justify-content-center",children:Object(I.jsx)(T.a,{variant:"success","data-testid":"common_register__button-register",disabled:m,onClick:M,type:"button",children:"Cadastrar"})})}),Object(I.jsx)(S.a,{className:"justify-content-md-center",children:Object(I.jsx)(y.a,{children:Object(I.jsx)(z,{hidden:D})})})]})})},U=r(146),V=r(148),W=r(147);r(125);var Q=function(e){var t=e.cartTotal,r=Object(p.g)();return Object(I.jsx)(V.a.Link,{href:"/customer/checkout",children:Object(I.jsxs)("div",{className:"container-test","data-testid":"customer_products__checkout-bottom-value",disabled:t<=0,children:[Object(I.jsx)(W.a,{style:{fontSize:"2.5rem"}}),Object(I.jsx)("button",{type:"button","data-testid":"customer_products__button-cart",className:"clear-button-style price-tag",disabled:t<=0,onClick:function(){return r.push("/customer/checkout")},children:" ".concat(t.toFixed(2).toString().split(".").join(","))})]})})};r(128);var G=function(e){var t=e.openMenu,r=e.setOpenMenu;return Object(I.jsx)("div",{className:"".concat(t&&"open"," menu-btn"),onClick:function(){return r(!t)},children:Object(I.jsx)("div",{className:"menu-btn__burger"})})};r(129);var H=function(e){var t=e.openMenu,r=e.setOpenMenu,a=e.logout,c=e.name,n=t?"250px":"0px";return Object(I.jsxs)("div",{id:"mySidenav",className:"sidenav",style:{width:n},children:[Object(I.jsx)("button",{type:"button",className:"closebtn clear-button-style",onClick:function(){return r(!t)},children:"\xd7"}),Object(I.jsx)("span",{children:c}),Object(I.jsx)(T.a,{className:"clear-button-style",onClick:a,"data-testid":"customer_products__element-navbar-link-logout",type:"button",children:"Sair"})]})};var Z=function(){var e=Object(a.useState)({width:void 0,height:void 0}),t=Object(v.a)(e,2),r=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),r};function K(e){var t=e.cartTotal,r=JSON.parse(localStorage.getItem("user")).name,c=Object(p.g)(),n=c.location.pathname.includes("/seller"),s=Object(a.useState)(!1),i=Object(v.a)(s,2),o=i[0],d=i[1],l=Z().width,u=function(){localStorage.clear(),c.push("/")};return Object(I.jsxs)(U.a,{sticky:"top",bg:"light",expand:"md",style:{flexWrap:"nowrap"},children:[Object(I.jsx)(H,{setOpenMenu:d,openMenu:o,logout:u,name:r}),Object(I.jsx)(_.a,{className:"d-flex",style:{padding:0},children:Object(I.jsxs)(_.a,{className:"d-flex",style:{padding:0},children:[Object(I.jsxs)(V.a,{className:"me-auto my-2 my-lg-0 flex-row align-items-center",navbarScroll:!0,children:[Object(I.jsx)(U.a.Brand,{children:Object(I.jsx)(k.a,{src:"/images/logo.svg",width:"50",height:"40",alt:"Disk Birita logo"})}),Object(I.jsx)(V.a.Link,{href:n?"/seller/orders":"/customer/products","data-testid":"customer_products__element-navbar-link-".concat(n?"orders":"products"),style:{marginRight:"10px"},children:n?"ORDERS":"PRODUTOS"}),!n&&Object(I.jsx)(V.a.Link,{href:"/customer/orders","data-testid":"customer_products__element-navbar-link-orders",children:"PEDIDOS"})]}),l>=800&&Object(I.jsxs)(_.a,{className:"d-flex justify-content-end align-items-center",children:[Object(I.jsx)(U.a.Text,{"data-testid":"customer_products__element-navbar-user-full-name",href:"/customer/orders",style:{marginRight:"10px"},children:r}),Object(I.jsx)(T.a,{onClick:u,"data-testid":"customer_products__element-navbar-link-logout",type:"button",children:"Sair"})]}),!n&&Object(I.jsx)(Q,{cartTotal:t}),l<800&&Object(I.jsx)(G,{setOpenMenu:d,openMenu:o})]})})]})}K.defaultProps={cartTotal:0};var X=K,Y=r(31),ee=r(149),te=r(143);var re=function(e){var t=e.product,r=e.product,a=r.id,c=r.name,n=r.price,s=r.urlImage,i=r.quantity,o=e.setCart,d=e.cart;return Object(I.jsxs)(ee.a,{children:[Object(I.jsx)(ee.a.Img,{"data-testid":"customer_products__img-card-bg-image-".concat(a),variant:"top",src:s,style:{heigth:"100px"}}),Object(I.jsx)(ee.a.Title,{"data-testid":"customer_products__element-card-title-".concat(a),style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:c}),Object(I.jsxs)(ee.a.Text,{style:{textAlign:"center"},children:["R$",Object(I.jsx)("span",{"data-testid":"customer_products__element-card-price-".concat(a),children:n.toString().split(".").join(",")})]}),Object(I.jsxs)(te.a,{className:"d-flex justify-content-center",children:[Object(I.jsx)(T.a,{id:a,"data-testid":"customer_products__button-card-rm-item-".concat(a),variant:"success",onClick:function(e){return function(e){var r="input-".concat(e),i=document.getElementById(r);/^[0-9\b]+$/.test(i.value)&&parseInt(i.value,10)>0?i.value=parseInt(i.value,10)-1:i.value=0;var l=d.indexOf(t),u=Object(Y.a)(d);u[l]={id:a,price:n,quantity:parseInt(i.value,10),name:c,urlImage:s},o(u)}(e.target.id)},children:"-"}),Object(I.jsx)(g.a.Control,{as:"input",min:"0",max:"99",id:"input-".concat(a),"data-testid":"customer_products__input-card-quantity-".concat(a),onChange:function(e){!function(e,t){var r=t,i=e.split("-")[1]-1;t||(r=0);var l=Object(Y.a)(d);l[i]={id:a,price:n,quantity:parseInt(r,10),name:c,urlImage:s},o(l)}(e.target.id,e.target.value)},type:"integer",placeholder:"0",defaultValue:i,style:{maxWidth:"176px"}}),Object(I.jsx)(T.a,{id:a,"data-testid":"customer_products__button-card-add-item-".concat(a),onClick:function(e){return function(e){var r="input-".concat(e),i=document.getElementById(r);/^[0-9\b]+$/.test(i.value)?i.value=parseInt(i.value,10)+1:i.value=1;var l=d.indexOf(t),u=Object(Y.a)(d);u[l]={id:a,price:n,quantity:parseInt(i.value,10),name:c,urlImage:s},o(u)}(e.target.id)},variant:"success",children:"+"})]})]})};var ae=function(){var e=Object(a.useState)(),t=Object(v.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(0),s=Object(v.a)(n,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(F,"/products"));case 2:t=e.sent,r=t.data.map((function(e){return e.quantity=0,e})),c(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){var e=0;localStorage.setItem("cart",JSON.stringify(r)),r&&r.forEach((function(t){e+=t.price*t.quantity})),o(e)}),[r]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{cartTotal:i}),Object(I.jsx)(_.a,{children:Object(I.jsx)(S.a,{xs:2,md:3,sm:2,className:"g-4",children:r&&r.map((function(e,t){return Object(I.jsx)(re,{product:e,setCart:c,cart:r},t)}))})})]})},ce=r(3),ne=["component"],se=function(e){var t=e.component,r=Object(ce.a)(e,ne),a=localStorage.getItem("user");return Object(I.jsx)(p.b,Object(d.a)(Object(d.a)({},r),{},{render:function(e){return a?Object(I.jsx)(t,Object(d.a)({},e)):Object(I.jsx)(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ie=se;se.defaultProps={location:{}};var oe=r(144);r(130);function de(e){var t=e.cartTotal,r=e.setCart,a=e.cart;return Object(I.jsxs)(oe.a,{hover:!0,className:"table-format",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Item"}),Object(I.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(I.jsx)("th",{children:"Quantidade"}),Object(I.jsx)("th",{children:"Valor Unit\xe1rio"}),Object(I.jsx)("th",{children:"Sub-total"}),Object(I.jsx)("th",{children:"Remover Item"})]})}),Object(I.jsxs)("tbody",{children:[a&&a.map((function(e,t){var c=e.id,n=e.name,s=e.price,i=e.quantity;return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{"data-testid":"customer_checkout__element-order-table-item-number-".concat(t),children:t+1}),Object(I.jsx)("td",{"data-testid":"customer_checkout__element-order-table-name-".concat(t),children:n}),Object(I.jsx)("td",{"data-testid":"customer_checkout__element-order-table-quantity-".concat(t),children:i}),Object(I.jsx)("td",{"data-testid":"customer_checkout__element-order-table-unit-price-".concat(t),children:"R$".concat(s.toString().split(".").join(","))}),Object(I.jsxs)("td",{children:["R$",Object(I.jsx)("span",{"data-testid":"customer_checkout__element-order-table-sub-total-".concat(t),children:(s*i).toFixed(2).toString().split(".").join(",")})]}),Object(I.jsx)("td",{children:Object(I.jsx)("button",{id:c,"data-testid":"customer_checkout__element-order-table-remove-".concat(t),onClick:function(){return function(e){var t=Object(Y.a)(a);return t.splice(e,1),r(t)}(t)},type:"button",className:"clear-button-style",children:"Remover"})})]},c)})),Object(I.jsx)("tr",{children:Object(I.jsx)("td",{className:"total-price",colSpan:"6",children:"Total: R$".concat(t.toFixed(2).toString().split(".").join(","))})})]})]})}de.defaultProps={cart:[]};var le=de,ue=r(145);var je=function(e){var t=e.finishSale,r=e.setDeliveryAddress,a=e.setDeliveryNumber,c=e.setSellerId,n=e.sellers;return Object(I.jsxs)(_.a,{children:[Object(I.jsxs)("div",{className:"d-flex",children:[Object(I.jsxs)(ue.a,{children:[Object(I.jsx)("div",{children:Object(I.jsx)("span",{children:"P. Vendedora Respons\xe1vel:"})}),Object(I.jsxs)("select",{onChange:function(e){return c(e.target.value)},name:"select","data-testid":"customer_checkout__select-seller",defaultValue:"DEFAULT",children:[Object(I.jsx)("option",{disabled:!0,value:"DEFAULT",children:" -- Selecione -- "}),n.map((function(e,t){var r=e.id,a=e.name;return Object(I.jsx)("option",{value:r,defaultValue:!0,children:a},t)}))]})]}),Object(I.jsxs)(g.a.Label,{children:["Endere\xe7o",Object(I.jsx)(g.a.Control,{placeholder:"Travessa Terceira da Castanheira, Bairro Murici",type:"text","data-testid":"customer_checkout__input-address",onChange:function(e){r(e.target.value)}})]}),Object(I.jsxs)(g.a.Label,{children:["N\xfamero",Object(I.jsx)(g.a.Control,{placeholder:"198","data-testid":"customer_checkout__input-addressNumber",type:"number",onChange:function(e){a(e.target.value)}})]})]}),Object(I.jsx)("button",{type:"button","data-testid":"customer_checkout__button-submit-order",onClick:t,children:"FINALIZAR PEDIDO"})]})};var be=function(){var e=Object(p.g)(),t=Object(a.useState)(),r=Object(v.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(0),i=Object(v.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)(""),u=Object(v.a)(l,2),j=u[0],b=u[1],O=Object(a.useState)(""),h=Object(v.a)(O,2),m=h[0],g=h[1],S=Object(a.useState)(),y=Object(v.a)(S,2),k=y[0],w=y[1],E=Object(a.useState)([]),T=Object(v.a)(E,2),C=T[0],P=T[1];Object(a.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("cart")),r=t.filter((function(e){return e.quantity>0})),n(r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(F,"/seller/all"));case 2:t=e.sent,r=t.data,P(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[P]),Object(a.useEffect)((function(){var e=0;localStorage.setItem("cart",JSON.stringify(c)),c&&c.forEach((function(t){e+=t.price*t.quantity})),d(e)}),[c]);var R=function(){var t=Object(f.a)(x.a.mark((function t(){var r,a,n,s,i,d;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=JSON.parse(localStorage.getItem("user")),a=r.token,n={headers:{authorization:a}},s={totalPrice:o,products:c,deliveryAddress:j,deliveryNumber:m,sellerId:k},t.next=6,N.a.post("".concat(F,"/customer/checkout"),s,n);case 6:i=t.sent,d=i.data.saleId,e.push("/customer/orders/".concat(d)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{cartTotal:o}),Object(I.jsxs)(_.a,{children:[Object(I.jsx)(le,{cart:c,setCart:n,cartTotal:o}),Object(I.jsx)("div",{children:"Detalhes e Endere\xe7o para Entrega"}),Object(I.jsx)(je,{setDeliveryNumber:g,setDeliveryAddress:b,finishSale:R,setSellerId:w,sellers:C})]})]})};var Oe=function(e){var t=e.order;return Object(I.jsxs)(oe.a,{striped:!0,bordered:!0,hover:!0,children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Item"}),Object(I.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(I.jsx)("th",{children:"Quantidade"}),Object(I.jsx)("th",{children:"Valor unit\xe1rio"}),Object(I.jsx)("th",{children:"Sub-total"})]})}),Object(I.jsx)("tbody",{children:t.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{"data-testid":"customer_order_details__element-order-table-item-number-".concat(e.id),children:e.id}),Object(I.jsx)("td",{"data-testid":"customer_order_details__element-order-table-name-".concat(e.id),children:e.name}),Object(I.jsx)("td",{"data-testid":"customer_order_details__element-order-table-quantity-".concat(e.id),children:e.SalesProduct.quantity}),Object(I.jsxs)("td",{"data-testid":"customer_order_details__element-order-table-sub-total-".concat(e.id),children:["R$",e.price.split(".").join(",")]}),Object(I.jsxs)("td",{children:["R$",(parseFloat(e.price)*e.SalesProduct.quantity).toFixed(2).split(".").join(",")]})]},e.id)}))})]})};var he=function(){var e=Object(a.useState)(!1),t=Object(v.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)("Pendente"),s=Object(v.a)(n,2),i=s[0],o=s[1],d=Object(a.useState)(),l=Object(v.a)(d,2),u=l[0],j=l[1],b=Object(a.useState)(0),O=Object(v.a)(b,2),h=O[0],m=O[1],g=Object(p.g)();Object(a.useEffect)((function(){var e=g.location.pathname.split("/"),t=e[e.length-1],r={headers:{authorization:JSON.parse(localStorage.getItem("user")).token}};(function(){var e=Object(f.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(F,"/customer/orders/").concat(t),r);case 2:a=e.sent,j(a.data.order),o(a.data.order.status);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[g.location.pathname]);var S=function(){var e=Object(f.a)(x.a.mark((function e(t){var a,n,s,i,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=g.location.pathname.split("/"),n=a[a.length-1],s=JSON.parse(localStorage.getItem("user")),i=s.token,d={headers:{authorization:i}},N.a.post("".concat(F,"/seller/orders/").concat(n),{orderStatus:t},d),c(!r),o(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(Object(a.useEffect)((function(){var e=0,t=JSON.parse(localStorage.getItem("cart"));t&&t.forEach((function(t){e+=t.price*t.quantity})),m(e)}),[]),u){var y=u.saleDate.split("-"),k="".concat(y[2][0]).concat(y[2][1]),w="".concat(y[1][0]).concat(y[1][1]),E="".concat(y[0].slice(0,4)),T="".concat(k,"/").concat(w,"/").concat(E);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{cartTotal:h}),Object(I.jsxs)(_.a,{children:[Object(I.jsx)("p",{children:"Detalhe do pedido"}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("span",{"data-testid":"customer_order_details__element-order-details-label-order-id",children:["Pedido",u.id]}),Object(I.jsxs)("span",{"data-testid":"customer_order_details__element-order-details-label-seller-name",children:["P. Vendedora:",u.seller.name]}),Object(I.jsx)("span",{"data-testid":"customer_order_details__element-order-details-label-order-date",children:T}),Object(I.jsx)("span",{"data-testid":"customer_order_details__element-order-details-label-delivery-status",children:i}),Object(I.jsx)("button",{"data-testid":"customer_order_details__button-delivery-check",type:"button",disabled:"Em Tr\xe2nsito"!==i,onClick:function(){return S("Entregue")},children:"MARCAR COMO ENTREGUE"}),Object(I.jsx)(Oe,{order:u.products}),Object(I.jsx)("span",{children:"Total: R$"}),Object(I.jsx)("span",{"data-testid":"customer_order_details__element-order-total-price",children:u.totalPrice.split(".").join(",")})]})]})]})}return Object(I.jsx)("p",{children:"Carregando"})};var pe=function(e){var t=e.order;return Object(I.jsxs)(oe.a,{striped:!0,bordered:!0,hover:!0,children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Item"}),Object(I.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(I.jsx)("th",{children:"Quantidade"}),Object(I.jsx)("th",{children:"Valor unit\xe1rio"}),Object(I.jsx)("th",{children:"Sub-total"})]})}),Object(I.jsx)("tbody",{children:t.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{"data-testid":"seller_order_details__element-order-table-item-number-".concat(e.id),children:e.id}),Object(I.jsx)("td",{"data-testid":"seller_order_details__element-order-table-name--".concat(e.id),children:e.name}),Object(I.jsx)("td",{"data-testid":"seller_order_details__element-order-table-quantity-".concat(e.id),children:e.SalesProduct.quantity}),Object(I.jsxs)("td",{"data-testid":"seller_order_details__element-order-table-unit-price-".concat(e.id),children:["R$",e.price.split(".").join(",")]}),Object(I.jsxs)("td",{"data-testid":"seller_order_details__element-order-table-sub-total".concat(e),children:["R$",(parseFloat(e.price)*e.SalesProduct.quantity).toFixed(2).split(".").join(",")]})]},e.id)}))})]})};var me=function(){var e=Object(a.useState)(),t=Object(v.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(!1),s=Object(v.a)(n,2),i=s[0],o=s[1],d=Object(a.useState)("Pendente"),l=Object(v.a)(d,2),u=l[0],j=l[1],b=Object(p.g)();Object(a.useEffect)((function(){var e=b.location.pathname.split("/"),t=e[e.length-1],r={headers:{authorization:JSON.parse(localStorage.getItem("user")).token}};(function(){var e=Object(f.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(F,"/seller/orders/").concat(t),r);case 2:a=e.sent,c(a.data.order),j(a.data.order.status);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b.location.pathname]);var O=function(){var e=Object(f.a)(x.a.mark((function e(t){var r,a,c,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.location.pathname.split("/"),a=r[r.length-1],c=JSON.parse(localStorage.getItem("user")),n=c.token,s={headers:{authorization:n}},e.next=6,N.a.post("".concat(F,"/seller/orders/").concat(a),{orderStatus:t},s);case 6:o(!i),j(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(r){var h=r.saleDate.split("-"),m="".concat(h[2][0]).concat(h[2][1]),g="".concat(h[1][0]).concat(h[1][1]),S="".concat(h[0].slice(0,4)),y="".concat(m,"/").concat(g,"/").concat(S);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{}),Object(I.jsxs)(_.a,{children:[Object(I.jsx)("p",{children:"Detalhe do pedido"}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("span",{"data-testid":"seller_order_details__element-order-details-label-order-id",children:["Pedido",r.id]}),Object(I.jsx)("span",{"data-testid":"seller_order_details__element-order-details-label-order-date",children:y}),Object(I.jsx)("span",{"data-testid":"seller_order_details__element-order-details-label-delivery-status",children:u}),Object(I.jsx)("button",{"data-testid":"seller_order_details__button-preparing-check",type:"button",disabled:"Pendente"!==u,onClick:function(){return O("Preparando")},children:"PREPARAR PEDIDO"}),Object(I.jsx)("button",{"data-testid":"seller_order_details__button-dispatch-check",type:"button",disabled:"Preparando"!==u,onClick:function(){return O("Em Tr\xe2nsito")},children:"SAIU PARA ENTREGA"}),Object(I.jsx)(pe,{order:r.products}),Object(I.jsx)("span",{children:"Total: R$"}),Object(I.jsx)("span",{"data-testid":"seller_order_details__element-order-total-price",children:r.totalPrice.split(".").join(",")})]})]})]})}return Object(I.jsx)("p",{children:"Carregando"})};var xe=function(e){var t=e.id,r=e.status,a=e.date,c=e.totalPrice,n=a.split("-"),s="".concat(n[2][0]).concat(n[2][1]),i="".concat(n[1][0]).concat(n[1][1]),o="".concat(n[0][0]).concat(n[0][1]).concat(n[0][2]).concat(n[0][3]),d="".concat(s,"/").concat(i,"/").concat(o);return Object(I.jsxs)("a",{href:"/customer/orders/".concat(t),children:[Object(I.jsxs)(ee.a.Title,{"data-testid":"customer_orders__element-order-id-".concat(t),children:["Pedido",t]}),Object(I.jsx)(ee.a.Text,{children:Object(I.jsx)("span",{"data-testid":"customer_orders__element-delivery-status-".concat(t),children:r})}),Object(I.jsx)(ee.a.Text,{children:Object(I.jsx)("span",{"data-testid":"customer_orders__element-order-date-".concat(t),children:d})}),Object(I.jsxs)(ee.a.Text,{children:["R$",Object(I.jsx)("span",{"data-testid":"customer_orders__element-card-price-".concat(t),children:c.toString().split(".").join(",")})]})]})};var fe=function(){var e=Object(a.useState)(),t=Object(v.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(0),s=Object(v.a)(n,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){var e={headers:{authorization:JSON.parse(localStorage.getItem("user")).token}};(function(){var t=Object(f.a)(x.a.mark((function t(){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("".concat(F,"/customer/orders"),e);case 2:r=t.sent,c(r.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){var e=0,t=JSON.parse(localStorage.getItem("cart"));t&&t.forEach((function(t){e+=t.price*t.quantity})),o(e)}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{cartTotal:i}),Object(I.jsx)(_.a,{children:Object(I.jsx)(S.a,{children:r&&r.map((function(e){return Object(I.jsx)(y.a,{children:Object(I.jsx)(xe,{id:e.id,status:e.status,date:e.saleDate,totalPrice:e.totalPrice})},e.id)}))})})]})};var ve=function(e){var t=e.id,r=e.status,a=e.date,c=e.totalPrice,n=e.deliveryAddress,s=e.deliveryNumber,i=a.split("-"),o="".concat(i[2][0]).concat(i[2][1]),d="".concat(i[1][0]).concat(i[1][1]),l="".concat(i[0][0]).concat(i[0][1]).concat(i[0][2]).concat(i[0][3]),u="".concat(o,"/").concat(d,"/").concat(l);return Object(I.jsxs)("a",{href:"/seller/orders/".concat(t),children:[Object(I.jsxs)(ee.a.Title,{"data-testid":"seller_orders__element-order-id-".concat(t),children:["Pedido",t]}),Object(I.jsx)(ee.a.Text,{children:Object(I.jsx)("span",{"data-testid":"seller_orders__element-delivery-status-".concat(t),children:r})}),Object(I.jsx)(ee.a.Text,{children:Object(I.jsx)("span",{"data-testid":"seller_orders__element-order-date-".concat(t),children:u})}),Object(I.jsxs)(ee.a.Text,{children:["R$",Object(I.jsx)("span",{"data-testid":"seller_orders__element-card-price-".concat(t),children:c.toString().split(".").join(",")})]}),Object(I.jsx)(ee.a.Text,{children:Object(I.jsx)("span",{"data-testid":"seller_orders__element-card-address-".concat(t),children:"".concat(n,",").concat(s)})})]})};var _e=function(){var e=Object(a.useState)(),t=Object(v.a)(e,2),r=t[0],c=t[1];return Object(a.useEffect)((function(){var e={headers:{authorization:JSON.parse(localStorage.getItem("user")).token}};(function(){var t=Object(f.a)(x.a.mark((function t(){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("".concat(F,"/seller/orders"),e);case 2:r=t.sent,c(r.data.sales);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{}),Object(I.jsx)(_.a,{children:Object(I.jsx)(S.a,{children:r&&r.map((function(e){return Object(I.jsx)(y.a,{children:Object(I.jsx)(ve,{id:e.id,status:e.status,date:e.saleDate,totalPrice:e.totalPrice,deliveryAddress:e.deliveryAddress,deliveryNumber:e.deliveryNumber})},e.id)}))})})]})};var ge=function(){return Object(I.jsxs)(p.d,{children:[Object(I.jsx)(p.b,{path:"/login",component:M}),Object(I.jsx)(p.b,{path:"/register",component:B}),Object(I.jsx)(ie,{path:"/customer/products",component:ae}),Object(I.jsx)(ie,{path:"/customer/checkout",component:be}),Object(I.jsx)(ie,{path:"/customer/orders/:id",component:he}),Object(I.jsx)(ie,{path:"/customer/orders",component:fe}),Object(I.jsx)(ie,{path:"/seller/orders/:id",component:me}),Object(I.jsx)(ie,{path:"/seller/orders",component:_e}),Object(I.jsx)(p.a,{strict:!0,from:"/",to:"/login"})]})};s.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(h.a,{children:Object(I.jsx)(O.a,{store:b,children:Object(I.jsx)(ge,{})})})}),document.getElementById("root")),i()},99:function(e,t,r){}},[[131,1,2]]]);
//# sourceMappingURL=main.89027ac6.chunk.js.map